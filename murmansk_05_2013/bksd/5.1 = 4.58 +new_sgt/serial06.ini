define int seri_index;
define float f;
define int idx;
define char  sum;
define char ch1;
define char st_k;



  

SAVE p1.hex v:0x0100,v:0x800;
LOAD 6.hex;


signal void out () {

  while (1) {
    wwatch(SOUT);
 	if (SOUT==0x7E) {printf ("\n",sout);}  
		printf ("\n", SOUT);
//	   ch [i]=SOUT;
	 //  i++;
	   }
}




signal void start () {
  seri_index = 0;
  f=0.05;

  
	st_k=0;	
  while(1) {
    
   if (f>2.7) {f=-0.05;}
   AIN1 = f; 
	AIN2= f;
 	AIN3= f;
	AIN4= f;
	AIN5= f;
	AIN6= f;
 	AIN7= f;
	f=f+0.005;  
			
	
	if (st_k==3)
	{
	    SIN = 0x7E;
		swatch (0.001 );
   		SIN = 0x06;
	    swatch (0.001 );
    	 SIN= 0x0C;
 	    swatch (0.001 );
    	SIN = 0x02;
		swatch (0.001 );
	    SIN= 0x20;
 	    swatch (0.001 );
	    SIN= 0x05;
 	    swatch (0.001 );
		SIN= 0xB9;
		swatch (0.001 );
		SIN= 0x02;
		swatch (0.001 );
		SIN= 0x04;
		swatch (0.001 );
		SIN= 0xC0;		   
		swatch (0.001 );
		SIN= 0x08;
		swatch (0.001 );
		SIN= 0x0;
		swatch (0.001 );
		SIN= 0xC0;
		swatch (0.001 );

	
		}
	if (st_k==1)
	{	  
   ch1= 0x06;		 
   SIN = 0x7E;
	    swatch (0.001 );
   SIN = ch1;
	    swatch (0.001 );
     SIN= 0x17;
 	    swatch (0.001 );
    SIN = 0x02;
	swatch (0.001 );
	     SIN= 0x00;
 	 swatch (0.001 );
	 SIN= 0x10;
 	    swatch (0.001 );
	SIN= 0x00;
		swatch (0.001 );
		SIN= 0x1F;
		swatch (0.001 );
	
	}

	
	if (st_k==2){   
		SIN = 0x7E;
		swatch (0.001 );
   		SIN = 0x85;
	    swatch (0.001 );
    	 SIN= 0x17;
 	    swatch (0.001 );
    	SIN = 0x02;
		swatch (0.001 );
	    SIN= 0x00;
 	    swatch (0.001 );
	    SIN= 0x10;
 	    swatch (0.001 );
		SIN= 0x00;
		swatch (0.001 );
		SIN= 0x73;
		swatch (0.001 );
		SIN= 0x00;
		swatch (0.001 );
		SIN= 0x28;		   
		swatch (0.001 );
		SIN= 0x05;
		swatch (0.001 );
		SIN= 0xB6;
		swatch (0.001 );
		SIN= 0x00;
		swatch (0.001 );
		SIN= 0x0A;
		swatch (0.001 );
		SIN= 0x03;
		swatch (0.001 );
		SIN= 0x0B;
		swatch (0.001 );
		SIN= 0x08;
		swatch (0.001 );
		SIN= 0xB8;
		swatch (0.001 );
		SIN= 0x00;
		swatch (0.001 );
		SIN= 0x0B;
		swatch (0.001 );
		SIN= 0x00;
		swatch (0.001 );
		SIN= 0xED;
		swatch (0.001 );
	}
		if (st_k==4){   
		SIN = 0x7E;
		swatch (0.001 );
   		SIN = 0x06;
	    swatch (0.001 );
    	SIN= 0x09;		 
 	    swatch (0.001 );
    	SIN = 0x01;
		swatch (0.001 );
	    SIN= 0x20;
 	    swatch (0.001 );
	    SIN= 0x02;
 	    swatch (0.001 );
		SIN= 0xA7;
		swatch (0.001 );
		SIN= 0x90;
		swatch (0.001 );
		SIN= 0x00;
		swatch (0.001 );
		SIN= 0x69;		   
		swatch (0.001 );
		st_k=1;
				 
	}	
		if (st_k==5){   
		SIN = 0x7E;
		swatch (0.001 );
   		SIN = 0x06;		
	    swatch (0.001 );
    	 SIN= 0x08;
 	    swatch (0.001 );
    	SIN = 0x01;
		swatch (0.001 );
	    SIN= 0x20;
 	    swatch (0.001 );
	    SIN= 0x02;
 	    swatch (0.001 );
		SIN= 0xA8;
		swatch (0.001 );
		SIN= 0x01;
		swatch (0.001 );
		SIN= 0xDA;
		swatch (0.001 );

	}	

	if (st_k==6){   
		SIN = 0x7E;
		swatch (0.001 );
   		SIN = 0x06;		
	    swatch (0.001 );
    	 SIN= 0x05;
 	    swatch (0.001 );
    	SIN = 0x10;
		swatch (0.001 );
	    SIN= 0x01;
 	    swatch (0.001 );
	    SIN= 0x00;
 	    swatch (0.001 );
		SIN= 0x23;
		swatch (0.001 );

	}
	if (st_k==7){   
		SIN = 0x7E;
		swatch (0.001 );
   		SIN = 0x06;		
	    swatch (0.001 );
    	 SIN= 0x08;
 	    swatch (0.001 );
    	SIN = 0x02;
		swatch (0.001 );
	    SIN= 0x20;
 	    swatch (0.001 );
	    SIN= 0x05;
 	    swatch (0.001 );
		SIN= 0xB4;
		swatch (0.001 );
		SIN= 0x00;
 	    swatch (0.001 );
		SIN= 0xE9;
		swatch (0.001 );

	}
	swatch (0.3 );	
	
 
}
 


// Wait for a little longer than 1 character time between each character

  }

 signal void opros_cikl_A7 () {
 if (st_k!=1) {st_k=1;}
 swatch (1);
 }

 signal void stat_pak () {
 if (st_k!=3) {st_k=3;}
 swatch (1);

 }
 signal void kom_A7_01 () {
 if (st_k!=4) {st_k=4;}
 swatch (1);
  }

 signal void odn() {
 if (st_k!=5) {st_k=5;}
 swatch (1);
  }
 	 signal void restart() {
 if (st_k!=6) {st_k=6;}
 swatch (1);
  }

 signal void flash () {
 if (st_k!=7) {st_k=7;}
 swatch (1);
  }

define button "ADC" , "start()"
define button "out" , "out ()"
define button "stat_pak" , "stat_pak ()"
define button "opros_cikl_A7" , "opros_cikl_A7 ()"
define button "kom_A7_01" , "kom_A7_01 ()"
define button "odn" , "odn ()"
define button "restart" , "restart ()"
define button "flash" , "flash ()"






