 БАЗОВЫЙ КОНТРОЛЛЕР ИЗМЕРИТЕЛЬНОГО МОДУЛЯ (БКСД)      
          ФАЙЛЫ ПРОЕКТА ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ

 1.Заголовочные файлы
  1.1 main.h
    Описания глобальных переменных.
  1.2 R_MAIN.h
    - препроцессорные определения рабочих констант.
    - макроопределения
      #define C_SIN_REPR 0x0FE - синхронизация функции обращения к EEPROM.
      #define FUM_Epr_Rd(Epg,Eadr) - прочитать из EEPROM 4байта в регистры EEPROM
                                   4 младшие страницы.
      #define FUM_Epr1_Rd(Eadr)- прочитать из EEPROM 4байта в регистры EEPROM
                                 Eadr - значение адреса EEPROM (0000 -07FC).
      #define FUM_Copy_Buf_Buf(Buf_out,Buf_in,size,k) - копировать содержимое 
                буфера Buf_out в буфер Buf_in количество байт size по индексу k.
      #define FUM_Copy_Buf_Reg(Buf_in,Reg_out,size,k) - копировать содержимое 
            регистра Reg_out в буфер Buf_in количество байт size по индексу k.
      #define FUM_Copy_Buf(Buf_in,Buf_out,size,k) - копировать содержимое 
                         буфера Buf_out в буфер Buf_in по его указателю Pnt_in 
                         количество байт size по индексу k.
      #define FUM_Crc_Buf(crc,Buf_in,size,k) -  подсчет контрольной суммы CRC 
                          буфера Buf_in с указанием количества байт size и индекса k.

  1.3 define_stuct.h
      - препроцессорные определения рабочих констант для АЦП и констант начальных
        адресов таблиц конфигурации модуля.
      - макроопределения.
        #define MAC_Copy_Epr_Ram_TAB_ALL(ADR_EP,ADR_MEM) - копирование всех таблиц в EEPROM 
                          (адрес 0x0400)в XRAM(адрес RAM = 0x0400) Размер таблицы 1kбайт.
        #define MAC_Copy_Ram_Epr_PHIZ - копирование таблицы(физических преобразований) 
                                        из RAM в EEPROM.
        #define MAC_DFN_DAT_PRG(BX,ADR_RZ) - макрос определение значения порога 
                                              измеренного  параметра заданного канала.
        #define MAC_ADC_PHIZ_TAB(BX1)- макрос вычисление физического значения.   
        #define MAC_NUL_PHIZ_TAB(BX1) - макрос вычисление физического значения 
                                кода нулевой точки по калибровачным значениям 1 и2 точек.

        #define MAC_MAX_PHIZ_TAB(BX1) - макрос вычисление физического значения по таблице
                описания кода максимальной точки по калибровачным значениям i-1 и i точек.
        #define MAC_FLT_DAT(Kf_Flt,DAT_IZM,DAT_TEK) - макрос фильтра(Kf_Flt - значение фильтра,
            DAT_IZM - измеренное значение,DAT_TEK - текущее значение - выход фильтра - тип LONG)
            tmpadc- выходное значение - откуда данные помещаются в выводной буфер).
        #define MAC_CMR_DAT(IN_DAT)  - макрос вычисления суммарного расхода.

 1.4 ADC_bkcd.h
     - препроцессорные определения функций и констант программного модуля ADC_BKCD.c.
        
     #define FUM_Wr_Flash(Km,Spg_h,Spg_l,Ad_Bf,Buf_X,size,k)  - запись данных во внешнию 
          память Flash буфера.Параметры Km - команда flash (82),
          Spg_h,Spg_l,Ad_Bf - полный адрес (3байта)памяти.
          Buf_X-буфер загружаемый в память.
          size,k - длина в байтах ,рабочий индекс.буфера Buf_in 
                   с указанием количества байт size и индекса k.
    #define FUM_Wr_BUF1_Flash(Km,Spg_h,Spg_l,Ad_Bf) - записать буфер 1 во внешнию память
                     Flash Параметры Km - команда flash (83)
                     Spg_h,Spg_l,Ad_Bf - полный адрес (3байта)памяти.
    #define FUM_Wr_BUF1(Buf_X,size,k)- записать в буфер 16 байт
                   используется при наращивании записи в буфер при команде 82
                   записать во flash через буфер.
    #define FUM_RD_Flash_buf1(Km,Spg_h,Spg_l,Ad_Bf) - прочитать страницу из flash в буфер1.
                  Параметры Km - команда flash (53) Spg_h,Spg_l,Ad_Bf - полный адрес (3байта)памяти.
    #define FUM_Rd_Flash(Spg_h,Spg_l,Ad_Bf,k,k1,k2)- читать данные из внешней памяти
              Flash в прямом направлении с выдачей считанной строки (16байт) в линию.
    #define FUM_Rd_Flash_back(Spg_h,Spg_l,Ad_Bf,k,k1,k2) - читать данные из внешней памяти
                  Flash в обратном направлении с выдачей считанной строки (16байт) в линию.
    #define FUM_Wr_Flash_Str(k1) - писать/читать данные во/из внешнию память.
    #define FUM_WrAdr_Flash_Str()- занести\прочитать начальный адрес FLASH.
    #define FUM_RD_CLOCK - прочитать значение часов во внутренние часы контроллера.

   1.4 ADC_bkcd.h
    - препроцессорные определения табличных структур конфигурации модуля.

1.Рабочии модули проекта.
  1.1 main_bkcd.c.
      - циклическая задача 0 (обработка инструкций входных пакетов)
  1.2 Com_hard_bkcd.c.
      - монитор выполняемых задач (0 - 3),прием \ передача пакетов из\в линию.
  1.3 LINE_comsoft.c.
      - циклическая задача 1 обработка принятых пакетов с линии,подготовка пакетов для передачи в линию.
  1.4 setup_bkcd.c.
      - стартовая инициализация программных модулей.
  1.5 adc_bkcd.c.
      - циклическая задача 2 (выполнение функций измерения и вычисления заданных измеряемых каналов,
                  выполнения списка команд управления и начальной инициализации рабочих
                  параметров). 
  1.6 task3_bkcd.c.
      - циклическая задача 3 (непрерывное  выполнение аналоговых измерений
                  сконфигурируемых каналов АЦП ,обработка цифрового битового канала)
  1.7 FUNC.a51.
      - функции программы MAIN (запись\чтение EEPROM,и тд
 
 
 
   



